- hosts: all
  become: yes
  tasks:
    - name: Set authorized keys taken from keys folder
      ansible.posix.authorized_key:
        user: vagrant
        state: present
        key: "{{ lookup('file', item) }}"
      with_fileglob:
        - "/vagrant/host_keys/*.pub"
    - name: Disable SWAP
      ansible.builtin.shell: swapoff -a
    - name: Disable SWAP in fstab
      ansible.builtin.lineinfile:
        path: /etc/fstab
        regexp: '^/swap.*'
        state: absent